{% extends "base.html" %}
{% load static %}
{% load template_tags %}
{% block content %}
    <div class="row title">
        <div class="col-xs-12 col-sm-6 col-md-7"><h2>Equipment Model Details</h2></div>
        <div class="col-xs-12 col-sm-6 col-md-2 pull-right">
            <a class="btn btn-danger btn-block" id="danger-button"
               data-href="{% url 'delete_model' Model.equipmentmodelid %}">Delete</a>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-3 pull-right">
            <a class="btn btn-primary btn-block" href="{% url 'create_model' Model.equipmentmodelid %}">Edit Model
                Description</a></div>
    </div>
    <div class="row detail-mid">
        <div class="col-xs-12 col-sm-6 col-md-6 pull-right"></div>
        <div class="col-xs-12 col-sm-6 col-md-6 pull-right">
            <table class="table">
                <tr>
                    <th>Model Name:</th>
                    <td>{{ Model.modelname }}</td>
                </tr>
                <tr>
                    <th>Model Part Number:</th>
                    <td>{{ Model.modelpartnumber|default:" -- " }}</td>
                </tr>
                <tr>
                    <th>Manufacturer Name:</th>
                    <td><a href="{% url 'organization_detail' Model.modelmanufacturerid_id %}">
                        {{ Model.modelmanufacturerid.organizationname }}</a>
                    </td>
                </tr>
                <tr>
                    <th>Manufacturer Website:</th>
                    <td><a target="_blank" href="{{ Model.modelmanufacturerid.organizationlink }}">
                        {{ Model.modelmanufacturerid.organizationlink }}</a>
                    </td>
                </tr>
                <tr>
                    <th>Model Description:</th>
                    <td>{{ Model.modeldescription }}</td>
                </tr>
                <tr>
                    <th>Is Instrument:</th>
                    <td>
                        {% if Model.isinstrument %}
                            Yes
                        {% else %}
                            No
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th>Model SepcificationsFile Link:</th>
                    <td>{{ Model.modelspecificationsfilelink|default:" -- " }}</td>
                </tr>
                <tr>
                    <th>Model Link:</th>
                    <td>{{ Model.modellink|default:" -- " }} {# This should be a file!!!#}</td>
                </tr>
            </table>
        </div>
    </div>

    {% block equipments %}
        <div class="row">
            <div class="col-md-9"><h3>Equipments for this model</h3></div>
        </div>
        <hr class="divider">

        <div class="row">
            <table class="data-table">
                <thead>
                <tr>
                    <th>Serial Number</th>
                    <th>Type</th>
                    <th>Manufacturer</th>
                    <th>Owner</th>
                </tr>
                </thead>
                <tbody>
                {% for equipment in Model.equipment.all %}
                    <tr>
                        <td>
                            <a href="{% url 'equipment_detail' equipment.equipmentid %}">
                                {{ equipment.equipmentserialnumber }}
                            </a></td>
                        <td>{{ equipment.equipmenttypecv_id }}</td>

                        <td>
                            <a href="{% url 'organization_detail' equipment.equipmentmodelid.modelmanufacturerid_id %}">
                                {{ equipment.equipmentmodelid.modelmanufacturerid.organizationname|default:" -- " }}
                            </a>
                        </td>
                        <td>
                        <a href="{% url 'person_detail' equipment.equipmentownerid.personid %}">
                            {{ equipment.equipmentownerid.personfirstname }}
                            {{ equipment.equipmentownerid.personlastname|default:" -- " }}
                        </a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>


    {% endblock %}
    {% block variables %}
{#    <div class="row col-xs-12 col-sm-12 col-md-12 col-lg-12 side-dependent-table"#}
{#                             style="display: none">#}
{#                            <div class="row">#}
{#                                <div class="col-sm-12 col-xs-12 col-md-8"><h4>Instrument Measured Variable</h4></div>#}
{#                                <div class="col-sm-12 col-xs-12 col-md-4 pull-right">#}
{#                                    <a class="btn btn-block btn-primary"#}
{#                                       href="{% url 'create_output_variable_deployment' samplingfeature.samplingfeatureid equipment.bridgeid %}">New#}
{#                                        Deployment Measured Variable</a>#}
{#                                </div>#}
{#                            </div>#}

        <div class="row">
            <div class="col-md-9"><h3>Variables for this Model</h3></div>
        </div>
        <hr class="divider">

        <div class="row">
        <div class="row">
        <div class="col-sm-12 col-xs-12 col-md-4 pull-right">
            <a class="btn btn-block btn-primary"
               href="{% url 'create_output_variable_equipmentmodel' Model.equipmentmodelid %}">New
                Measured Variable</a>
        </div>
        </div>
            <table class="data-table">
                <thead>
                <tr>
                    <th>Variable Code</th>
                    <th>Variable Name</th>
                    <th>Model Name</th>
                    <th>Method Code</th>
                    <th>Method Name</th>
                </tr>
                </thead>
                <tbody>

                    {% for variable in Model.instrumentoutputvariable.all %}
                        {% if variable.modelid.isinstrument %}
                        <tr>
                            <td>
                                {#                                                                    <a href="{% url 'measured_variable_detail' variable.instrumentoutputvariableid Deployment.bridgeid samplingfeature.samplingfeatureid %}">#}
                                {{ variable.variableid.variablecode }}
                                {#                                                                    </a>#}
                            </td>
                            <td>{{ variable.variableid.variablenamecv_id}}</td>
                            <td>{{ Model.modelname }}</td>
                            <td>{{ variable.instrumentmethodid.methodcode }}</td>
                            <td>{{ variable.instrumentmethodid.methodname }}</td>
                        </tr>
                        {% endif %}
                    {%endfor%}

                </tbody>
            </table>
        </div>
    {% endblock %}

{#                        </div>#}

    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAGtObe6Ic1FeiDvC9Oxt3oWc-HWk8wuTk&sensor=false">
    </script>

    <script type="text/javascript" src="{% static "sensordatainterface/js/google_maps.js" %}"></script>
{% endblock %}